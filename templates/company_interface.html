<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HR Management Interface</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
        }
        .container {
            max-width: 1000px;
            margin-top: 50px;
        }
        .card {
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        #job-descriptions-list {
            max-height: 500px;
            overflow-y: auto;
        }
        .job-item {
            border-bottom: 1px solid #dee2e6;
            padding: 15px 0;
        }
        .job-item:last-child {
            border-bottom: none;
        }
        .btn-group {
            margin-top: 10px;
        }
        .passed {
            background-color: #d4edda;
        }
        .failed {
            background-color: #f8d7da;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-center mb-4">AI HR Management Interface</h1>

        <div class="card">
            <div class="card-header bg-primary text-white">
                Upload New Job Description
            </div>
            <div class="card-body">
                <form id="upload-form">
                    <div class="mb-3">
                        <label for="job-title" class="form-label">Job Title</label>
                        <input type="text" class="form-control" id="job-title" required>
                    </div>
                    <div class="mb-3">
                        <label for="job-description-file" class="form-label">Job Description File</label>
                        <input type="file" class="form-control" id="job-description-file" accept=".txt" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Upload</button>
                </form>
            </div>
        </div>

        <div class="card">
            <div class="card-header bg-secondary text-white">
                Job Descriptions and Candidates
            </div>
            <div class="card-body">
                <div id="job-descriptions-list">
                    <!-- Job descriptions and candidates will be dynamically added here -->
                </div>
            </div>
        </div>
    </div>

    <script>
        $(document).ready(function() {
            function addJobDescription(jobTitle, fileName) {
                const jobItem = `
                    <div class="job-item" data-job-title="${jobTitle}">
                        <h4>${jobTitle} <button class="btn btn-sm btn-danger delete-job">X</button></h4>
                        <p class="text-muted">File: ${fileName}</p>
                        <div class="btn-group" role="group">
                            <button class="btn btn-sm btn-outline-primary view-job-description" data-job-title="${jobTitle}">View Job Description</button>
                            <button class="btn btn-sm btn-outline-info view-candidates" data-job-title="${jobTitle}">View Candidates</button>
                            <button class="btn btn-sm btn-outline-success create-interview-link" data-job-title="${jobTitle}">Create Interview Link</button>
                        </div>
                        <div class="job-description-content mt-3" style="display: none;"></div>
                        <div class="candidates-list mt-3" style="display: none;"></div>
                    </div>
                `;
                $('#job-descriptions-list').prepend(jobItem);
            }

            $('#upload-form').submit(function(e) {
                e.preventDefault();
                const jobTitle = $('#job-title').val();
                const file = $('#job-description-file')[0].files[0];
                if (file) {
                    const formData = new FormData();
                    formData.append('job_title', jobTitle);
                    formData.append('file', file);

                    $.ajax({
                        url: '/upload_job_description',
                        type: 'POST',
                        data: formData,
                        processData: false,
                        contentType: false,
                        success: function(data) {
                            alert('Job description uploaded successfully');
                            addJobDescription(jobTitle, file.name);
                            $('#upload-form')[0].reset();
                        },
                        error: function() {
                            alert('Error uploading job description');
                        }
                    });
                }
            });

            $(document).on('click', '.view-job-description', function() {
                const jobTitle = $(this).data('job-title');
                const contentElement = $(this).closest('.job-item').find('.job-description-content');

                $.get(`/get_job_description/${jobTitle}`, function(data) {
                    contentElement.html(`<pre>${data.content}</pre>`).toggle();
                }).fail(function() {
                    alert('Error fetching job description');
                });
            });

            $(document).on('click', '.view-candidates', function() {
                const jobTitle = $(this).data('job-title');
                const candidatesListElement = $(this).closest('.job-item').find('.candidates-list');

                $.get(`/get_candidates/${jobTitle}`, function(data) {
                    if (data.candidates && data.candidates.length > 0) {
                        let candidatesHtml = '<h5>Candidates:</h5><ul class="list-group">';
                        data.candidates.forEach(candidate => {
                            const statusClass = candidate.passed ? 'passed' : 'failed';
                            candidatesHtml += `
                                <li class="list-group-item d-flex justify-content-between align-items-center ${statusClass}">
                                    ${candidate.full_name} (${candidate.candidate_id})
                                    <div>
                                        <a href="/download_cv/${candidate.candidate_id}" class="btn btn-sm btn-outline-primary">View CV</a>
                                        <a href="/download_report/${jobTitle}/${candidate.candidate_id}" class="btn btn-sm btn-outline-info">View Report</a>
                                        <button class="btn btn-sm btn-danger delete-candidate" data-job-title="${jobTitle}" data-candidate-id="${candidate.candidate_id}">X</button>
                                    </div>
                                </li>`;
                        });
                        candidatesHtml += '</ul>';
                        candidatesListElement.html(candidatesHtml).toggle();
                    } else {
                        candidatesListElement.html('<p class="text-muted">No candidates available yet.</p>').toggle();
                    }
                }).fail(function() {
                    alert('Error fetching candidates');
                });
            });

            $(document).on('click', '.create-interview-link', function() {
                const jobTitle = $(this).data('job-title');
                $.post(`/create_interview_link/${jobTitle}`, function(data) {
                    if (data.interview_url) {
                        prompt("Copy this interview link:", data.interview_url);
                    } else {
                        alert('Error creating interview link');
                    }
                }).fail(function() {
                    alert('Error creating interview link');
                });
            });

            $(document).on('click', '.delete-job', function() {
                const jobTitle = $(this).closest('.job-item').data('job-title');
                if (confirm(`Are you sure you want to delete the job "${jobTitle}"?`)) {
                    $.post(`/delete_job/${jobTitle}`, function(data) {
                        if (data.success) {
                            $(`div[data-job-title="${jobTitle}"]`).remove();
                        } else {
                            alert('Error deleting job');
                        }
                    }).fail(function() {
                        alert('Error deleting job');
                    });
                }
            });

            $(document).on('click', '.delete-candidate', function() {
                const jobTitle = $(this).data('job-title');
                const candidateId = $(this).data('candidate-id');
                const $candidateItem = $(this).closest('li');

                if (confirm(`Are you sure you want to delete this candidate?`)) {
                    $.ajax({
                        url: `/delete_candidate/${jobTitle}/${candidateId}`,
                        type: 'POST',
                        success: function(data) {
                            if (data.success) {
                                $candidateItem.remove();
                            } else {
                                alert('Error deleting candidate: ' + (data.error || 'Unknown error'));
                            }
                        },
                        error: function(jqXHR, textStatus, errorThrown) {
                            alert('Error deleting candidate: ' + (jqXHR.responseJSON?.error || errorThrown));
                        }
                    });
                }
            });

            // Load existing job descriptions on page load
            $.get('/get_all_job_descriptions', function(data) {
                data.job_descriptions.forEach(job => {
                    addJobDescription(job.title, job.file_name);
                });
            });
        });
    </script>
</body>
</html>
















































<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>HR Management Interface</title>-->
<!--    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">-->
<!--    <style>-->
<!--        body {-->
<!--            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;-->
<!--            background-color: #f8f9fa;-->
<!--        }-->
<!--        .container {-->
<!--            max-width: 1000px;-->
<!--            margin-top: 50px;-->
<!--        }-->
<!--        .card {-->
<!--            margin-bottom: 20px;-->
<!--            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);-->
<!--        }-->
<!--        #job-descriptions-list {-->
<!--            max-height: 500px;-->
<!--            overflow-y: auto;-->
<!--        }-->
<!--        .job-item {-->
<!--            border-bottom: 1px solid #dee2e6;-->
<!--            padding: 15px 0;-->
<!--        }-->
<!--        .job-item:last-child {-->
<!--            border-bottom: none;-->
<!--        }-->
<!--        .btn-group {-->
<!--            margin-top: 10px;-->
<!--        }-->
<!--        .passed {-->
<!--            background-color: #d4edda;-->
<!--        }-->
<!--        .failed {-->
<!--            background-color: #f8d7da;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--    <div class="container">-->
<!--        <h1 class="text-center mb-4">AI HR Management Interface</h1>-->

<!--        <div class="card">-->
<!--            <div class="card-header bg-primary text-white">-->
<!--                Upload New Job Description-->
<!--            </div>-->
<!--            <div class="card-body">-->
<!--                <form id="upload-form">-->
<!--                    <div class="mb-3">-->
<!--                        <label for="job-title" class="form-label">Job Title</label>-->
<!--                        <input type="text" class="form-control" id="job-title" required>-->
<!--                    </div>-->
<!--                    <div class="mb-3">-->
<!--                        <label for="job-description-file" class="form-label">Job Description File</label>-->
<!--                        <input type="file" class="form-control" id="job-description-file" accept=".txt" required>-->
<!--                    </div>-->
<!--                    <button type="submit" class="btn btn-primary">Upload</button>-->
<!--                </form>-->
<!--            </div>-->
<!--        </div>-->

<!--        <div class="card">-->
<!--            <div class="card-header bg-secondary text-white">-->
<!--                Job Descriptions and Candidates-->
<!--            </div>-->
<!--            <div class="card-body">-->
<!--                <div id="job-descriptions-list">-->
<!--                    &lt;!&ndash; Job descriptions and candidates will be dynamically added here &ndash;&gt;-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->

<!--    <script>-->
<!--        $(document).ready(function() {-->
<!--            function addJobDescription(jobTitle, fileName) {-->
<!--                const jobItem = `-->
<!--                    <div class="job-item" data-job-title="${jobTitle}">-->
<!--                        <h4>${jobTitle} <button class="btn btn-sm btn-danger delete-job">X</button></h4>-->
<!--                        <p class="text-muted">File: ${fileName}</p>-->
<!--                        <div class="btn-group" role="group">-->
<!--                            <button class="btn btn-sm btn-outline-primary view-job-description" data-job-title="${jobTitle}">View Job Description</button>-->
<!--                            <button class="btn btn-sm btn-outline-info view-candidates" data-job-title="${jobTitle}">View Candidates</button>-->
<!--                            <button class="btn btn-sm btn-outline-success create-interview-link" data-job-title="${jobTitle}">Create Interview Link</button>-->
<!--                        </div>-->
<!--                        <div class="job-description-content mt-3" style="display: none;"></div>-->
<!--                        <div class="candidates-list mt-3" style="display: none;"></div>-->
<!--                    </div>-->
<!--                `;-->
<!--                $('#job-descriptions-list').prepend(jobItem);-->
<!--            }-->

<!--            $('#upload-form').submit(function(e) {-->
<!--                e.preventDefault();-->
<!--                const jobTitle = $('#job-title').val();-->
<!--                const file = $('#job-description-file')[0].files[0];-->
<!--                if (file) {-->
<!--                    const formData = new FormData();-->
<!--                    formData.append('job_title', jobTitle);-->
<!--                    formData.append('file', file);-->

<!--                    $.ajax({-->
<!--                        url: '/upload_job_description',-->
<!--                        type: 'POST',-->
<!--                        data: formData,-->
<!--                        processData: false,-->
<!--                        contentType: false,-->
<!--                        success: function(data) {-->
<!--                            alert('Job description uploaded successfully');-->
<!--                            addJobDescription(jobTitle, file.name);-->
<!--                            $('#upload-form')[0].reset();-->
<!--                        },-->
<!--                        error: function() {-->
<!--                            alert('Error uploading job description');-->
<!--                        }-->
<!--                    });-->
<!--                }-->
<!--            });-->

<!--            $(document).on('click', '.view-job-description', function() {-->
<!--                const jobTitle = $(this).data('job-title');-->
<!--                const contentElement = $(this).closest('.job-item').find('.job-description-content');-->

<!--                $.get(`/get_job_description/${jobTitle}`, function(data) {-->
<!--                    contentElement.html(`<pre>${data.content}</pre>`).toggle();-->
<!--                }).fail(function() {-->
<!--                    alert('Error fetching job description');-->
<!--                });-->
<!--            });-->

<!--            $(document).on('click', '.view-candidates', function() {-->
<!--                const jobTitle = $(this).data('job-title');-->
<!--                const candidatesListElement = $(this).closest('.job-item').find('.candidates-list');-->

<!--                $.get(`/get_candidates/${jobTitle}`, function(data) {-->
<!--                    if (data.candidates && data.candidates.length > 0) {-->
<!--                        let candidatesHtml = '<h5>Candidates:</h5><ul class="list-group">';-->
<!--                        data.candidates.forEach(candidate => {-->
<!--                            const statusClass = candidate.passed ? 'passed' : 'failed';-->
<!--                            candidatesHtml += `-->
<!--                                <li class="list-group-item d-flex justify-content-between align-items-center ${statusClass}">-->
<!--                                    ${candidate.full_name} (${candidate.candidate_id})-->
<!--                                    <div>-->
<!--                                        <a href="/download_cv/${candidate.candidate_id}" class="btn btn-sm btn-outline-primary">View CV</a>-->
<!--                                        <a href="/download_report/${jobTitle}/${candidate.candidate_id}" class="btn btn-sm btn-outline-info">View Report</a>-->
<!--                                        <button class="btn btn-sm btn-danger delete-candidate" data-job-title="${jobTitle}" data-candidate-id="${candidate.candidate_id}">X</button>-->
<!--                                    </div>-->
<!--                                </li>`;-->
<!--                        });-->
<!--                        candidatesHtml += '</ul>';-->
<!--                        candidatesListElement.html(candidatesHtml).toggle();-->
<!--                    } else {-->
<!--                        candidatesListElement.html('<p class="text-muted">No candidates available yet.</p>').toggle();-->
<!--                    }-->
<!--                }).fail(function() {-->
<!--                    alert('Error fetching candidates');-->
<!--                });-->
<!--            });-->

<!--            $(document).on('click', '.create-interview-link', function() {-->
<!--                const jobTitle = $(this).data('job-title');-->
<!--                $.post(`/create_interview_link/${jobTitle}`, function(data) {-->
<!--                    if (data.interview_url) {-->
<!--                        prompt("Copy this interview link:", data.interview_url);-->
<!--                    } else {-->
<!--                        alert('Error creating interview link');-->
<!--                    }-->
<!--                }).fail(function() {-->
<!--                    alert('Error creating interview link');-->
<!--                });-->
<!--            });-->

<!--            $(document).on('click', '.delete-job', function() {-->
<!--                const jobTitle = $(this).closest('.job-item').data('job-title');-->
<!--                if (confirm(`Are you sure you want to delete the job "${jobTitle}"?`)) {-->
<!--                    $.post(`/delete_job/${jobTitle}`, function(data) {-->
<!--                        if (data.success) {-->
<!--                            $(`div[data-job-title="${jobTitle}"]`).remove();-->
<!--                        } else {-->
<!--                            alert('Error deleting job');-->
<!--                        }-->
<!--                    }).fail(function() {-->
<!--                        alert('Error deleting job');-->
<!--                    });-->
<!--                }-->
<!--            });-->

<!--            $(document).on('click', '.delete-candidate', function() {-->
<!--                const jobTitle = $(this).data('job-title');-->
<!--                const candidateId = $(this).data('candidate-id');-->
<!--                const $candidateItem = $(this).closest('li');-->

<!--                if (confirm(`Are you sure you want to delete this candidate?`)) {-->
<!--                    $.ajax({-->
<!--                        url: `/delete_candidate/${jobTitle}/${candidateId}`,-->
<!--                        type: 'POST',-->
<!--                        success: function(data) {-->
<!--                            if (data.success) {-->
<!--                                $candidateItem.remove();-->
<!--                            } else {-->
<!--                                alert('Error deleting candidate: ' + (data.error || 'Unknown error'));-->
<!--                            }-->
<!--                        },-->
<!--                        error: function(jqXHR, textStatus, errorThrown) {-->
<!--                            alert('Error deleting candidate: ' + (jqXHR.responseJSON?.error || errorThrown));-->
<!--                        }-->
<!--                    });-->
<!--                }-->
<!--            });-->

<!--            // Load existing job descriptions on page load-->
<!--            $.get('/get_all_job_descriptions', function(data) {-->
<!--                data.job_descriptions.forEach(job => {-->
<!--                    addJobDescription(job.title, job.file_name);-->
<!--                });-->
<!--            });-->
<!--        });-->
<!--    </script>-->
<!--</body>-->
<!--</html>-->



































































































<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>HR Management Interface</title>-->
<!--    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">-->
<!--    <style>-->
<!--        body {-->
<!--            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;-->
<!--            background-color: #f8f9fa;-->
<!--        }-->
<!--        .container {-->
<!--            max-width: 1000px;-->
<!--            margin-top: 50px;-->
<!--        }-->
<!--        .card {-->
<!--            margin-bottom: 20px;-->
<!--            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);-->
<!--        }-->
<!--        #job-descriptions-list {-->
<!--            max-height: 500px;-->
<!--            overflow-y: auto;-->
<!--        }-->
<!--        .job-item {-->
<!--            border-bottom: 1px solid #dee2e6;-->
<!--            padding: 15px 0;-->
<!--        }-->
<!--        .job-item:last-child {-->
<!--            border-bottom: none;-->
<!--        }-->
<!--        .btn-group {-->
<!--            margin-top: 10px;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--    <div class="container">-->
<!--        <h1 class="text-center mb-4">AI HR Management Interface</h1>-->

<!--        <div class="card">-->
<!--            <div class="card-header bg-primary text-white">-->
<!--                Upload New Job Description-->
<!--            </div>-->
<!--            <div class="card-body">-->
<!--                <form id="upload-form">-->
<!--                    <div class="mb-3">-->
<!--                        <label for="job-title" class="form-label">Job Title</label>-->
<!--                        <input type="text" class="form-control" id="job-title" required>-->
<!--                    </div>-->
<!--                    <div class="mb-3">-->
<!--                        <label for="job-description-file" class="form-label">Job Description File</label>-->
<!--                        <input type="file" class="form-control" id="job-description-file" accept=".txt" required>-->
<!--                    </div>-->
<!--                    <button type="submit" class="btn btn-primary">Upload</button>-->
<!--                </form>-->
<!--            </div>-->
<!--        </div>-->

<!--        <div class="card">-->
<!--            <div class="card-header bg-secondary text-white">-->
<!--                Job Descriptions and Reports-->
<!--            </div>-->
<!--            <div class="card-body">-->
<!--                <div id="job-descriptions-list">-->
<!--                    &lt;!&ndash; Job descriptions and reports will be dynamically added here &ndash;&gt;-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->

<!--    <script>-->
<!--        $(document).ready(function() {-->
<!--            function addJobDescription(jobTitle, fileName) {-->
<!--                const jobItem = `-->
<!--                    <div class="job-item">-->
<!--                        <h4>${jobTitle}</h4>-->
<!--                        <p class="text-muted">File: ${fileName}</p>-->
<!--                        <div class="btn-group" role="group">-->
<!--                            <button class="btn btn-sm btn-outline-primary view-job-description" data-job-title="${jobTitle}">View Job Description</button>-->
<!--                            <button class="btn btn-sm btn-outline-info view-reports" data-job-title="${jobTitle}">View Reports</button>-->
<!--                            <button class="btn btn-sm btn-outline-success start-interview" data-job-title="${jobTitle}">Start New Interview</button>-->
<!--                        </div>-->
<!--                        <div class="job-description-content mt-3" style="display: none;"></div>-->
<!--                        <div class="reports-list mt-3" style="display: none;"></div>-->
<!--                    </div>-->
<!--                `;-->
<!--                $('#job-descriptions-list').prepend(jobItem);-->
<!--            }-->

<!--            $('#upload-form').submit(function(e) {-->
<!--                e.preventDefault();-->
<!--                const jobTitle = $('#job-title').val();-->
<!--                const file = $('#job-description-file')[0].files[0];-->
<!--                if (file) {-->
<!--                    const formData = new FormData();-->
<!--                    formData.append('job_title', jobTitle);-->
<!--                    formData.append('file', file);-->

<!--                    $.ajax({-->
<!--                        url: '/upload_job_description',-->
<!--                        type: 'POST',-->
<!--                        data: formData,-->
<!--                        processData: false,-->
<!--                        contentType: false,-->
<!--                        success: function(data) {-->
<!--                            alert('Job description uploaded successfully');-->
<!--                            addJobDescription(jobTitle, file.name);-->
<!--                            $('#upload-form')[0].reset();-->
<!--                        },-->
<!--                        error: function() {-->
<!--                            alert('Error uploading job description');-->
<!--                        }-->
<!--                    });-->
<!--                }-->
<!--            });-->

<!--            $(document).on('click', '.view-job-description', function() {-->
<!--                const jobTitle = $(this).data('job-title');-->
<!--                const contentElement = $(this).closest('.job-item').find('.job-description-content');-->

<!--                $.get(`/get_job_description/${jobTitle}`, function(data) {-->
<!--                    contentElement.html(`<pre>${data.content}</pre>`).toggle();-->
<!--                }).fail(function() {-->
<!--                    alert('Error fetching job description');-->
<!--                });-->
<!--            });-->

<!--            $(document).on('click', '.view-reports', function() {-->
<!--                const jobTitle = $(this).data('job-title');-->
<!--                const reportsListElement = $(this).closest('.job-item').find('.reports-list');-->

<!--                $.get(`/get_reports/${jobTitle}`, function(data) {-->
<!--                    if (data.reports && data.reports.length > 0) {-->
<!--                        let reportsHtml = '<h5>Reports:</h5><ul class="list-group">';-->
<!--                        data.reports.forEach(report => {-->
<!--                            reportsHtml += `<li class="list-group-item"><a href="/download_report/${jobTitle}/${report}" target="_blank">${report}</a></li>`;-->
<!--                        });-->
<!--                        reportsHtml += '</ul>';-->
<!--                        reportsListElement.html(reportsHtml).toggle();-->
<!--                    } else {-->
<!--                        reportsListElement.html('<p class="text-muted">No reports available yet.</p>').toggle();-->
<!--                    }-->
<!--                }).fail(function() {-->
<!--                    alert('Error fetching reports');-->
<!--                });-->
<!--            });-->

<!--            $(document).on('click', '.start-interview', function() {-->
<!--                const jobTitle = $(this).data('job-title');-->
<!--                $.post(`/start_new_interview/${jobTitle}`, function(data) {-->
<!--                    if (data.interview_url) {-->
<!--                        const interviewLink = $('<a>', {-->
<!--                            text: 'Start Interview',-->
<!--                            href: data.interview_url,-->
<!--                            target: '_blank',-->
<!--                            class: 'btn btn-sm btn-primary mt-2'-->
<!--                        });-->
<!--                        $(this).after(interviewLink);-->
<!--                        $(this).prop('disabled', true);-->
<!--                    } else {-->
<!--                        alert('Error starting new interview');-->
<!--                    }-->
<!--                }).fail(function() {-->
<!--                    alert('Error starting new interview');-->
<!--                });-->
<!--            });-->

<!--            // Load existing job descriptions on page load-->
<!--            $.get('/get_all_job_descriptions', function(data) {-->
<!--                data.job_descriptions.forEach(job => {-->
<!--                    addJobDescription(job.title, job.file_name);-->
<!--                });-->
<!--            });-->
<!--        });-->
<!--    </script>-->
<!--</body>-->
<!--</html>-->










<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>HR Management Interface</title>-->
<!--    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">-->
<!--    <style>-->
<!--        body {-->
<!--            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;-->
<!--            background-color: #f8f9fa;-->
<!--        }-->
<!--        .container {-->
<!--            max-width: 1000px;-->
<!--            margin-top: 50px;-->
<!--        }-->
<!--        .card {-->
<!--            margin-bottom: 20px;-->
<!--            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);-->
<!--        }-->
<!--        #job-descriptions-list {-->
<!--            max-height: 500px;-->
<!--            overflow-y: auto;-->
<!--        }-->
<!--        .job-item {-->
<!--            border-bottom: 1px solid #dee2e6;-->
<!--            padding: 15px 0;-->
<!--        }-->
<!--        .job-item:last-child {-->
<!--            border-bottom: none;-->
<!--        }-->
<!--        .btn-group {-->
<!--            margin-top: 10px;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--    <div class="container">-->
<!--        <h1 class="text-center mb-4">AI HR Management Interface</h1>-->

<!--        <div class="card">-->
<!--            <div class="card-header bg-primary text-white">-->
<!--                Upload New Job Description-->
<!--            </div>-->
<!--            <div class="card-body">-->
<!--                <form id="upload-form">-->
<!--                    <div class="mb-3">-->
<!--                        <label for="job-title" class="form-label">Job Title</label>-->
<!--                        <input type="text" class="form-control" id="job-title" required>-->
<!--                    </div>-->
<!--                    <div class="mb-3">-->
<!--                        <label for="job-description-file" class="form-label">Job Description File</label>-->
<!--                        <input type="file" class="form-control" id="job-description-file" accept=".txt" required>-->
<!--                    </div>-->
<!--                    <button type="submit" class="btn btn-primary">Upload</button>-->
<!--                </form>-->
<!--            </div>-->
<!--        </div>-->

<!--        <div class="card">-->
<!--            <div class="card-header bg-secondary text-white">-->
<!--                Job Descriptions and Reports-->
<!--            </div>-->
<!--            <div class="card-body">-->
<!--                <div id="job-descriptions-list">-->
<!--                    &lt;!&ndash; Job descriptions and reports will be dynamically added here &ndash;&gt;-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->

<!--    <script>-->
<!--        $(document).ready(function() {-->
<!--            function addJobDescription(jobTitle, fileName) {-->
<!--                const jobItem = `-->
<!--                    <div class="job-item" data-job-title="${jobTitle}">-->
<!--                        <h4>${jobTitle} <button class="btn btn-sm btn-danger delete-job">X</button></h4>-->
<!--                        <p class="text-muted">File: ${fileName}</p>-->
<!--                        <div class="btn-group" role="group">-->
<!--                            <button class="btn btn-sm btn-outline-primary view-job-description" data-job-title="${jobTitle}">View Job Description</button>-->
<!--                            <button class="btn btn-sm btn-outline-info view-reports" data-job-title="${jobTitle}">View Reports</button>-->
<!--                            <button class="btn btn-sm btn-outline-success start-interview" data-job-title="${jobTitle}">Start New Interview</button>-->
<!--                        </div>-->
<!--                        <div class="job-description-content mt-3" style="display: none;"></div>-->
<!--                        <div class="reports-list mt-3" style="display: none;"></div>-->
<!--                    </div>-->
<!--                `;-->
<!--                $('#job-descriptions-list').prepend(jobItem);-->
<!--            }-->

<!--            $('#upload-form').submit(function(e) {-->
<!--                e.preventDefault();-->
<!--                const jobTitle = $('#job-title').val();-->
<!--                const file = $('#job-description-file')[0].files[0];-->
<!--                if (file) {-->
<!--                    const formData = new FormData();-->
<!--                    formData.append('job_title', jobTitle);-->
<!--                    formData.append('file', file);-->

<!--                    $.ajax({-->
<!--                        url: '/upload_job_description',-->
<!--                        type: 'POST',-->
<!--                        data: formData,-->
<!--                        processData: false,-->
<!--                        contentType: false,-->
<!--                        success: function(data) {-->
<!--                            alert('Job description uploaded successfully');-->
<!--                            addJobDescription(jobTitle, file.name);-->
<!--                            $('#upload-form')[0].reset();-->
<!--                        },-->
<!--                        error: function() {-->
<!--                            alert('Error uploading job description');-->
<!--                        }-->
<!--                    });-->
<!--                }-->
<!--            });-->

<!--            $(document).on('click', '.view-job-description', function() {-->
<!--                const jobTitle = $(this).data('job-title');-->
<!--                const contentElement = $(this).closest('.job-item').find('.job-description-content');-->

<!--                $.get(`/get_job_description/${jobTitle}`, function(data) {-->
<!--                    contentElement.html(`<pre>${data.content}</pre>`).toggle();-->
<!--                }).fail(function() {-->
<!--                    alert('Error fetching job description');-->
<!--                });-->
<!--            });-->

<!--            $(document).on('click', '.view-reports', function() {-->
<!--                const jobTitle = $(this).data('job-title');-->
<!--                const reportsListElement = $(this).closest('.job-item').find('.reports-list');-->

<!--                $.get(`/get_reports/${jobTitle}`, function(data) {-->
<!--                    if (data.reports && data.reports.length > 0) {-->
<!--                        let reportsHtml = '<h5>Reports:</h5><ul class="list-group">';-->
<!--                        data.reports.forEach(report => {-->
<!--                            reportsHtml += `-->
<!--                                <li class="list-group-item d-flex justify-content-between align-items-center">-->
<!--                                    <a href="/download_report/${jobTitle}/${report}" target="_blank">${report}</a>-->
<!--                                    <button class="btn btn-sm btn-danger delete-report" data-job-title="${jobTitle}" data-report="${report}">X</button>-->
<!--                                </li>`;-->
<!--                        });-->
<!--                        reportsHtml += '</ul>';-->
<!--                        reportsListElement.html(reportsHtml).toggle();-->
<!--                    } else {-->
<!--                        reportsListElement.html('<p class="text-muted">No reports available yet.</p>').toggle();-->
<!--                    }-->
<!--                }).fail(function() {-->
<!--                    alert('Error fetching reports');-->
<!--                });-->
<!--            });-->

<!--            $(document).on('click', '.start-interview', function() {-->
<!--                const jobTitle = $(this).data('job-title');-->
<!--                const button = $(this);-->
<!--                $.post(`/start_new_interview/${jobTitle}`, function(data) {-->
<!--                    if (data.interview_url) {-->
<!--                        const interviewLink = $('<a>', {-->
<!--                            text: 'Open Interview Link',-->
<!--                            href: data.interview_url,-->
<!--                            target: '_blank',-->
<!--                            class: 'btn btn-sm btn-primary mt-2'-->
<!--                        });-->
<!--                        button.after(interviewLink);-->
<!--                        button.text('Create Another Interview Link').removeClass('btn-outline-success').addClass('btn-outline-primary');-->
<!--                    } else {-->
<!--                        alert('Error starting new interview');-->
<!--                    }-->
<!--                }).fail(function() {-->
<!--                    alert('Error starting new interview');-->
<!--                });-->
<!--            });-->

<!--            $(document).on('click', '.delete-job', function() {-->
<!--                const jobTitle = $(this).closest('.job-item').data('job-title');-->
<!--                if (confirm(`Are you sure you want to delete the job "${jobTitle}"?`)) {-->
<!--                    $.post(`/delete_job/${jobTitle}`, function(data) {-->
<!--                        if (data.success) {-->
<!--                            $(`div[data-job-title="${jobTitle}"]`).remove();-->
<!--                        } else {-->
<!--                            alert('Error deleting job');-->
<!--                        }-->
<!--                    }).fail(function() {-->
<!--                        alert('Error deleting job');-->
<!--                    });-->
<!--                }-->
<!--            });-->

<!--            $(document).on('click', '.delete-report', function() {-->
<!--                const jobTitle = $(this).data('job-title');-->
<!--                const report = $(this).data('report');-->
<!--                if (confirm(`Are you sure you want to delete the report "${report}"?`)) {-->
<!--                    $.post(`/delete_report/${jobTitle}/${report}`, function(data) {-->
<!--                        if (data.success) {-->
<!--                            $(this).closest('li').remove();-->
<!--                        } else {-->
<!--                            alert('Error deleting report');-->
<!--                        }-->
<!--                    }).fail(function() {-->
<!--                        alert('Error deleting report');-->
<!--                    });-->
<!--                }-->
<!--            });-->

<!--            // Load existing job descriptions on page load-->
<!--            $.get('/get_all_job_descriptions', function(data) {-->
<!--                data.job_descriptions.forEach(job => {-->
<!--                    addJobDescription(job.title, job.file_name);-->
<!--                });-->
<!--            });-->
<!--        });-->
<!--    </script>-->
<!--</body>-->
<!--</html>-->















<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>HR Management Interface</title>-->
<!--    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">-->
<!--    <style>-->
<!--        body {-->
<!--            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;-->
<!--            background-color: #f8f9fa;-->
<!--        }-->
<!--        .container {-->
<!--            max-width: 1000px;-->
<!--            margin-top: 50px;-->
<!--        }-->
<!--        .card {-->
<!--            margin-bottom: 20px;-->
<!--            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);-->
<!--        }-->
<!--        #job-descriptions-list {-->
<!--            max-height: 500px;-->
<!--            overflow-y: auto;-->
<!--        }-->
<!--        .job-item {-->
<!--            border-bottom: 1px solid #dee2e6;-->
<!--            padding: 15px 0;-->
<!--        }-->
<!--        .job-item:last-child {-->
<!--            border-bottom: none;-->
<!--        }-->
<!--        .btn-group {-->
<!--            margin-top: 10px;-->
<!--        }-->
<!--        .passed {-->
<!--            background-color: #d4edda;-->
<!--        }-->
<!--        .failed {-->
<!--            background-color: #f8d7da;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--    <div class="container">-->
<!--        <h1 class="text-center mb-4">AI HR Management Interface</h1>-->

<!--        <div class="card">-->
<!--            <div class="card-header bg-primary text-white">-->
<!--                Upload New Job Description-->
<!--            </div>-->
<!--            <div class="card-body">-->
<!--                <form id="upload-form">-->
<!--                    <div class="mb-3">-->
<!--                        <label for="job-title" class="form-label">Job Title</label>-->
<!--                        <input type="text" class="form-control" id="job-title" required>-->
<!--                    </div>-->
<!--                    <div class="mb-3">-->
<!--                        <label for="job-description-file" class="form-label">Job Description File</label>-->
<!--                        <input type="file" class="form-control" id="job-description-file" accept=".txt" required>-->
<!--                    </div>-->
<!--                    <button type="submit" class="btn btn-primary">Upload</button>-->
<!--                </form>-->
<!--            </div>-->
<!--        </div>-->

<!--        <div class="card">-->
<!--            <div class="card-header bg-secondary text-white">-->
<!--                Job Descriptions and Candidates-->
<!--            </div>-->
<!--            <div class="card-body">-->
<!--                <div id="job-descriptions-list">-->
<!--                    &lt;!&ndash; Job descriptions and candidates will be dynamically added here &ndash;&gt;-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->

<!--    <script>-->
<!--        $(document).ready(function() {-->
<!--            function addJobDescription(jobTitle, fileName) {-->
<!--                const jobItem = `-->
<!--                    <div class="job-item" data-job-title="${jobTitle}">-->
<!--                        <h4>${jobTitle} <button class="btn btn-sm btn-danger delete-job">X</button></h4>-->
<!--                        <p class="text-muted">File: ${fileName}</p>-->
<!--                        <div class="btn-group" role="group">-->
<!--                            <button class="btn btn-sm btn-outline-primary view-job-description" data-job-title="${jobTitle}">View Job Description</button>-->
<!--                            <button class="btn btn-sm btn-outline-info view-candidates" data-job-title="${jobTitle}">View Candidates</button>-->
<!--                            <button class="btn btn-sm btn-outline-success create-interview-link" data-job-title="${jobTitle}">Create Interview Link</button>-->
<!--                        </div>-->
<!--                        <div class="job-description-content mt-3" style="display: none;"></div>-->
<!--                        <div class="candidates-list mt-3" style="display: none;"></div>-->
<!--                    </div>-->
<!--                `;-->
<!--                $('#job-descriptions-list').prepend(jobItem);-->
<!--            }-->

<!--            $('#upload-form').submit(function(e) {-->
<!--                e.preventDefault();-->
<!--                const jobTitle = $('#job-title').val();-->
<!--                const file = $('#job-description-file')[0].files[0];-->
<!--                if (file) {-->
<!--                    const formData = new FormData();-->
<!--                    formData.append('job_title', jobTitle);-->
<!--                    formData.append('file', file);-->

<!--                    $.ajax({-->
<!--                        url: '/upload_job_description',-->
<!--                        type: 'POST',-->
<!--                        data: formData,-->
<!--                        processData: false,-->
<!--                        contentType: false,-->
<!--                        success: function(data) {-->
<!--                            alert('Job description uploaded successfully');-->
<!--                            addJobDescription(jobTitle, file.name);-->
<!--                            $('#upload-form')[0].reset();-->
<!--                        },-->
<!--                        error: function() {-->
<!--                            alert('Error uploading job description');-->
<!--                        }-->
<!--                    });-->
<!--                }-->
<!--            });-->

<!--            $(document).on('click', '.view-job-description', function() {-->
<!--                const jobTitle = $(this).data('job-title');-->
<!--                const contentElement = $(this).closest('.job-item').find('.job-description-content');-->

<!--                $.get(`/get_job_description/${jobTitle}`, function(data) {-->
<!--                    contentElement.html(`<pre>${data.content}</pre>`).toggle();-->
<!--                }).fail(function() {-->
<!--                    alert('Error fetching job description');-->
<!--                });-->
<!--            });-->

<!--            $(document).on('click', '.view-candidates', function() {-->
<!--                const jobTitle = $(this).data('job-title');-->
<!--                const candidatesListElement = $(this).closest('.job-item').find('.candidates-list');-->

<!--                $.get(`/get_candidates/${jobTitle}`, function(data) {-->
<!--                    if (data.candidates && data.candidates.length > 0) {-->
<!--                        let candidatesHtml = '<h5>Candidates:</h5><ul class="list-group">';-->
<!--                        data.candidates.forEach(candidate => {-->
<!--                            const statusClass = candidate.passed ? 'passed' : 'failed';-->
<!--                            candidatesHtml += `-->
<!--                                <li class="list-group-item d-flex justify-content-between align-items-center ${statusClass}">-->
<!--                                    ${candidate.full_name} (${candidate.candidate_id})-->
<!--                                    <div>-->
<!--                                        <a href="/download_cv/${candidate.candidate_id}" class="btn btn-sm btn-outline-primary">View CV</a>-->
<!--                                        <a href="/download_report/${jobTitle}/${candidate.candidate_id}" class="btn btn-sm btn-outline-info">View Report</a>-->
<!--                                        <button class="btn btn-sm btn-danger delete-candidate" data-job-title="${jobTitle}" data-candidate-id="${candidate.candidate_id}">X</button>-->
<!--                                    </div>-->
<!--                                </li>`;-->
<!--                        });-->
<!--                        candidatesHtml += '</ul>';-->
<!--                        candidatesListElement.html(candidatesHtml).toggle();-->
<!--                    } else {-->
<!--                        candidatesListElement.html('<p class="text-muted">No candidates available yet.</p>').toggle();-->
<!--                    }-->
<!--                }).fail(function() {-->
<!--                    alert('Error fetching candidates');-->
<!--                });-->
<!--            });-->

<!--            $(document).on('click', '.create-interview-link', function() {-->
<!--                const jobTitle = $(this).data('job-title');-->
<!--                $.post(`/create_interview_link/${jobTitle}`, function(data) {-->
<!--                    if (data.interview_url) {-->
<!--                        prompt("Copy this interview link:", data.interview_url);-->
<!--                    } else {-->
<!--                        alert('Error creating interview link');-->
<!--                    }-->
<!--                }).fail(function() {-->
<!--                    alert('Error creating interview link');-->
<!--                });-->
<!--            });-->

<!--            $(document).on('click', '.delete-job', function() {-->
<!--                const jobTitle = $(this).closest('.job-item').data('job-title');-->
<!--                if (confirm(`Are you sure you want to delete the job "${jobTitle}"?`)) {-->
<!--                    $.post(`/delete_job/${jobTitle}`, function(data) {-->
<!--                        if (data.success) {-->
<!--                            $(`div[data-job-title="${jobTitle}"]`).remove();-->
<!--                        } else {-->
<!--                            alert('Error deleting job');-->
<!--                        }-->
<!--                    }).fail(function() {-->
<!--                        alert('Error deleting job');-->
<!--                    });-->
<!--                }-->
<!--            });-->

<!--            $(document).on('click', '.delete-candidate', function() {-->
<!--                const jobTitle = $(this).data('job-title');-->
<!--                const candidateId = $(this).data('candidate-id');-->
<!--                if (confirm(`Are you sure you want to delete this candidate?`)) {-->
<!--                    $.post(`/delete_candidate/${jobTitle}/${candidateId}`, function(data) {-->
<!--                        if (data.success) {-->
<!--                            $(this).closest('li').remove();-->
<!--                        } else {-->
<!--                            alert('Error deleting candidate');-->
<!--                        }-->
<!--                    }).fail(function() {-->
<!--                        alert('Error deleting candidate');-->
<!--                    });-->
<!--                }-->
<!--            });-->

<!--            // Load existing job descriptions on page load-->
<!--            $.get('/get_all_job_descriptions', function(data) {-->
<!--                data.job_descriptions.forEach(job => {-->
<!--                    addJobDescription(job.title, job.file_name);-->
<!--                });-->
<!--            });-->
<!--        });-->
<!--    </script>-->
<!--</body>-->
<!--</html>-->




<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>HR Management Interface</title>-->
<!--    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">-->
<!--    <style>-->
<!--        body {-->
<!--            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;-->
<!--            background-color: #f8f9fa;-->
<!--        }-->
<!--        .container {-->
<!--            max-width: 1000px;-->
<!--            margin-top: 50px;-->
<!--        }-->
<!--        .card {-->
<!--            margin-bottom: 20px;-->
<!--            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);-->
<!--        }-->
<!--        #job-descriptions-list {-->
<!--            max-height: 500px;-->
<!--            overflow-y: auto;-->
<!--        }-->
<!--        .job-item {-->
<!--            border-bottom: 1px solid #dee2e6;-->
<!--            padding: 15px 0;-->
<!--        }-->
<!--        .job-item:last-child {-->
<!--            border-bottom: none;-->
<!--        }-->
<!--        .btn-group {-->
<!--            margin-top: 10px;-->
<!--        }-->
<!--        .passed {-->
<!--            background-color: #d4edda;-->
<!--        }-->
<!--        .failed {-->
<!--            background-color: #f8d7da;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--    <div class="container">-->
<!--        <h1 class="text-center mb-4">AI HR Management Interface</h1>-->

<!--        <div class="card">-->
<!--            <div class="card-header bg-primary text-white">-->
<!--                Upload New Job Description-->
<!--            </div>-->
<!--            <div class="card-body">-->
<!--                <form id="upload-form">-->
<!--                    <div class="mb-3">-->
<!--                        <label for="job-title" class="form-label">Job Title</label>-->
<!--                        <input type="text" class="form-control" id="job-title" required>-->
<!--                    </div>-->
<!--                    <div class="mb-3">-->
<!--                        <label for="job-description-file" class="form-label">Job Description File</label>-->
<!--                        <input type="file" class="form-control" id="job-description-file" accept=".txt" required>-->
<!--                    </div>-->
<!--                    <button type="submit" class="btn btn-primary">Upload</button>-->
<!--                </form>-->
<!--            </div>-->
<!--        </div>-->

<!--        <div class="card">-->
<!--            <div class="card-header bg-secondary text-white">-->
<!--                Job Descriptions and Candidates-->
<!--            </div>-->
<!--            <div class="card-body">-->
<!--                <div id="job-descriptions-list">-->
<!--                    &lt;!&ndash; Job descriptions and candidates will be dynamically added here &ndash;&gt;-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->

<!--    <script>-->
<!--        $(document).ready(function() {-->
<!--            function addJobDescription(jobTitle, fileName) {-->
<!--                const jobItem = `-->
<!--                    <div class="job-item" data-job-title="${jobTitle}">-->
<!--                        <h4>${jobTitle} <button class="btn btn-sm btn-danger delete-job">X</button></h4>-->
<!--                        <p class="text-muted">File: ${fileName}</p>-->
<!--                        <div class="btn-group" role="group">-->
<!--                            <button class="btn btn-sm btn-outline-primary view-job-description" data-job-title="${jobTitle}">View Job Description</button>-->
<!--                            <button class="btn btn-sm btn-outline-info view-candidates" data-job-title="${jobTitle}">View Candidates</button>-->
<!--                            <button class="btn btn-sm btn-outline-success create-interview-link" data-job-title="${jobTitle}">Create Interview Link</button>-->
<!--                        </div>-->
<!--                        <div class="job-description-content mt-3" style="display: none;"></div>-->
<!--                        <div class="candidates-list mt-3" style="display: none;"></div>-->
<!--                    </div>-->
<!--                `;-->
<!--                $('#job-descriptions-list').prepend(jobItem);-->
<!--            }-->

<!--            $('#upload-form').submit(function(e) {-->
<!--                e.preventDefault();-->
<!--                const jobTitle = $('#job-title').val();-->
<!--                const file = $('#job-description-file')[0].files[0];-->
<!--                if (file) {-->
<!--                    const formData = new FormData();-->
<!--                    formData.append('job_title', jobTitle);-->
<!--                    formData.append('file', file);-->

<!--                    $.ajax({-->
<!--                        url: '/upload_job_description',-->
<!--                        type: 'POST',-->
<!--                        data: formData,-->
<!--                        processData: false,-->
<!--                        contentType: false,-->
<!--                        success: function(data) {-->
<!--                            alert('Job description uploaded successfully');-->
<!--                            addJobDescription(jobTitle, file.name);-->
<!--                            $('#upload-form')[0].reset();-->
<!--                        },-->
<!--                        error: function() {-->
<!--                            alert('Error uploading job description');-->
<!--                        }-->
<!--                    });-->
<!--                }-->
<!--            });-->

<!--            $(document).on('click', '.view-job-description', function() {-->
<!--                const jobTitle = $(this).data('job-title');-->
<!--                const contentElement = $(this).closest('.job-item').find('.job-description-content');-->

<!--                $.get(`/get_job_description/${jobTitle}`, function(data) {-->
<!--                    contentElement.html(`<pre>${data.content}</pre>`).toggle();-->
<!--                }).fail(function() {-->
<!--                    alert('Error fetching job description');-->
<!--                });-->
<!--            });-->

<!--            $(document).on('click', '.view-candidates', function() {-->
<!--                const jobTitle = $(this).data('job-title');-->
<!--                const candidatesListElement = $(this).closest('.job-item').find('.candidates-list');-->

<!--                $.get(`/get_candidates/${jobTitle}`, function(data) {-->
<!--                    if (data.candidates && data.candidates.length > 0) {-->
<!--                        let candidatesHtml = '<h5>Candidates:</h5><ul class="list-group">';-->
<!--                        data.candidates.forEach(candidate => {-->
<!--                            const statusClass = candidate.passed ? 'passed' : 'failed';-->
<!--                            candidatesHtml += `-->
<!--                                <li class="list-group-item d-flex justify-content-between align-items-center ${statusClass}">-->
<!--                                    ${candidate.full_name} (${candidate.candidate_id})-->
<!--                                    <div>-->
<!--                                        <a href="/download_cv/${candidate.candidate_id}" class="btn btn-sm btn-outline-primary">View CV</a>-->
<!--                                        <a href="/download_report/${jobTitle}/${candidate.candidate_id}" class="btn btn-sm btn-outline-info">View Report</a>-->
<!--                                        <button class="btn btn-sm btn-danger delete-candidate" data-job-title="${jobTitle}" data-candidate-id="${candidate.candidate_id}">X</button>-->
<!--                                    </div>-->
<!--                                </li>`;-->
<!--                        });-->
<!--                        candidatesHtml += '</ul>';-->
<!--                        candidatesListElement.html(candidatesHtml).toggle();-->
<!--                    } else {-->
<!--                        candidatesListElement.html('<p class="text-muted">No candidates available yet.</p>').toggle();-->
<!--                    }-->
<!--                }).fail(function() {-->
<!--                    alert('Error fetching candidates');-->
<!--                });-->
<!--            });-->

<!--            $(document).on('click', '.create-interview-link', function() {-->
<!--                const jobTitle = $(this).data('job-title');-->
<!--                $.post(`/create_interview_link/${jobTitle}`, function(data) {-->
<!--                    if (data.interview_url) {-->
<!--                        prompt("Copy this interview link:", data.interview_url);-->
<!--                    } else {-->
<!--                        alert('Error creating interview link');-->
<!--                    }-->
<!--                }).fail(function() {-->
<!--                    alert('Error creating interview link');-->
<!--                });-->
<!--            });-->

<!--            $(document).on('click', '.delete-job', function() {-->
<!--                const jobTitle = $(this).closest('.job-item').data('job-title');-->
<!--                if (confirm(`Are you sure you want to delete the job "${jobTitle}"?`)) {-->
<!--                    $.post(`/delete_job/${jobTitle}`, function(data) {-->
<!--                        if (data.success) {-->
<!--                            $(`div[data-job-title="${jobTitle}"]`).remove();-->
<!--                        } else {-->
<!--                            alert('Error deleting job');-->
<!--                        }-->
<!--                    }).fail(function() {-->
<!--                        alert('Error deleting job');-->
<!--                    });-->
<!--                }-->
<!--            });-->

<!--            $(document).on('click', '.delete-candidate', function() {-->
<!--                const jobTitle = $(this).data('job-title');-->
<!--                const candidateId = $(this).data('candidate-id');-->
<!--                if (confirm(`Are you sure you want to delete this candidate?`)) {-->
<!--                    $.post(`/delete_candidate/${jobTitle}/${candidateId}`, function(data) {-->
<!--                        if (data.success) {-->
<!--                            $(this).closest('li').remove();-->
<!--                        } else {-->
<!--                            alert('Error deleting candidate');-->
<!--                        }-->
<!--                    }).fail(function() {-->
<!--                        alert('Error deleting candidate');-->
<!--                    });-->
<!--                }-->
<!--            });-->

<!--            // Load existing job descriptions on page load-->
<!--            $.get('/get_all_job_descriptions', function(data) {-->
<!--                data.job_descriptions.forEach(job => {-->
<!--                    addJobDescription(job.title, job.file_name);-->
<!--                });-->
<!--            });-->
<!--        });-->
<!--    </script>-->
<!--</body>-->
<!--</html>-->


<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>HR Management Interface</title>-->
<!--    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">-->
<!--    <style>-->
<!--        body {-->
<!--            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;-->
<!--            background-color: #f8f9fa;-->
<!--        }-->
<!--        .container {-->
<!--            max-width: 1000px;-->
<!--            margin-top: 50px;-->
<!--        }-->
<!--        .card {-->
<!--            margin-bottom: 20px;-->
<!--            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);-->
<!--        }-->
<!--        #job-descriptions-list {-->
<!--            max-height: 500px;-->
<!--            overflow-y: auto;-->
<!--        }-->
<!--        .job-item {-->
<!--            border-bottom: 1px solid #dee2e6;-->
<!--            padding: 15px 0;-->
<!--        }-->
<!--        .job-item:last-child {-->
<!--            border-bottom: none;-->
<!--        }-->
<!--        .btn-group {-->
<!--            margin-top: 10px;-->
<!--        }-->
<!--        .passed {-->
<!--            background-color: #d4edda;-->
<!--        }-->
<!--        .failed {-->
<!--            background-color: #f8d7da;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--    <div class="container">-->
<!--        <h1 class="text-center mb-4">AI HR Management Interface</h1>-->

<!--        <div class="card">-->
<!--            <div class="card-header bg-primary text-white">-->
<!--                Upload New Job Description-->
<!--            </div>-->
<!--            <div class="card-body">-->
<!--                <form id="upload-form">-->
<!--                    <div class="mb-3">-->
<!--                        <label for="job-title" class="form-label">Job Title</label>-->
<!--                        <input type="text" class="form-control" id="job-title" required>-->
<!--                    </div>-->
<!--                    <div class="mb-3">-->
<!--                        <label for="job-description-file" class="form-label">Job Description File</label>-->
<!--                        <input type="file" class="form-control" id="job-description-file" accept=".txt" required>-->
<!--                    </div>-->
<!--                    <button type="submit" class="btn btn-primary">Upload</button>-->
<!--                </form>-->
<!--            </div>-->
<!--        </div>-->

<!--        <div class="card">-->
<!--            <div class="card-header bg-secondary text-white">-->
<!--                Job Descriptions and Candidates-->
<!--            </div>-->
<!--            <div class="card-body">-->
<!--                <div id="job-descriptions-list">-->
<!--                    &lt;!&ndash; Job descriptions and candidates will be dynamically added here &ndash;&gt;-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->

<!--    <script>-->
<!--        $(document).ready(function() {-->
<!--            function addJobDescription(jobTitle, fileName) {-->
<!--                const jobItem = `-->
<!--                    <div class="job-item" data-job-title="${jobTitle}">-->
<!--                        <h4>${jobTitle} <button class="btn btn-sm btn-danger delete-job">X</button></h4>-->
<!--                        <p class="text-muted">File: ${fileName}</p>-->
<!--                        <div class="btn-group" role="group">-->
<!--                            <button class="btn btn-sm btn-outline-primary view-job-description" data-job-title="${jobTitle}">View Job Description</button>-->
<!--                            <button class="btn btn-sm btn-outline-info view-candidates" data-job-title="${jobTitle}">View Candidates</button>-->
<!--                            <button class="btn btn-sm btn-outline-success create-interview-link" data-job-title="${jobTitle}">Create Interview Link</button>-->
<!--                        </div>-->
<!--                        <div class="job-description-content mt-3" style="display: none;"></div>-->
<!--                        <div class="candidates-list mt-3" style="display: none;"></div>-->
<!--                    </div>-->
<!--                `;-->
<!--                $('#job-descriptions-list').prepend(jobItem);-->
<!--            }-->

<!--            $('#upload-form').submit(function(e) {-->
<!--                e.preventDefault();-->
<!--                const jobTitle = $('#job-title').val();-->
<!--                const file = $('#job-description-file')[0].files[0];-->
<!--                if (file) {-->
<!--                    const formData = new FormData();-->
<!--                    formData.append('job_title', jobTitle);-->
<!--                    formData.append('file', file);-->

<!--                    $.ajax({-->
<!--                        url: '/upload_job_description',-->
<!--                        type: 'POST',-->
<!--                        data: formData,-->
<!--                        processData: false,-->
<!--                        contentType: false,-->
<!--                        success: function(data) {-->
<!--                            alert('Job description uploaded successfully');-->
<!--                            addJobDescription(jobTitle, file.name);-->
<!--                            $('#upload-form')[0].reset();-->
<!--                        },-->
<!--                        error: function() {-->
<!--                            alert('Error uploading job description');-->
<!--                        }-->
<!--                    });-->
<!--                }-->
<!--            });-->

<!--            $(document).on('click', '.view-job-description', function() {-->
<!--                const jobTitle = $(this).data('job-title');-->
<!--                const contentElement = $(this).closest('.job-item').find('.job-description-content');-->

<!--                $.get(`/get_job_description/${jobTitle}`, function(data) {-->
<!--                    contentElement.html(`<pre>${data.content}</pre>`).toggle();-->
<!--                }).fail(function() {-->
<!--                    alert('Error fetching job description');-->
<!--                });-->
<!--            });-->

<!--            $(document).on('click', '.view-candidates', function() {-->
<!--                const jobTitle = $(this).data('job-title');-->
<!--                const candidatesListElement = $(this).closest('.job-item').find('.candidates-list');-->

<!--                $.get(`/get_candidates/${jobTitle}`, function(data) {-->
<!--                    if (data.candidates && data.candidates.length > 0) {-->
<!--                        let candidatesHtml = '<h5>Candidates:</h5><ul class="list-group">';-->
<!--                        data.candidates.forEach(candidate => {-->
<!--                            const statusClass = candidate.passed ? 'passed' : 'failed';-->
<!--                            candidatesHtml += `-->
<!--                                <li class="list-group-item d-flex justify-content-between align-items-center ${statusClass}">-->
<!--                                    ${candidate.full_name} (${candidate.candidate_id})-->
<!--                                    <div>-->
<!--                                        <a href="/download_cv/${candidate.candidate_id}" class="btn btn-sm btn-outline-primary">View CV</a>-->
<!--                                        <a href="/download_report/${jobTitle}/${candidate.candidate_id}" class="btn btn-sm btn-outline-info">View Report</a>-->
<!--                                        <button class="btn btn-sm btn-danger delete-candidate" data-job-title="${jobTitle}" data-candidate-id="${candidate.candidate_id}">X</button>-->
<!--                                    </div>-->
<!--                                </li>`;-->
<!--                        });-->
<!--                        candidatesHtml += '</ul>';-->
<!--                        candidatesListElement.html(candidatesHtml).toggle();-->
<!--                    } else {-->
<!--                        candidatesListElement.html('<p class="text-muted">No candidates available yet.</p>').toggle();-->
<!--                    }-->
<!--                }).fail(function() {-->
<!--                    alert('Error fetching candidates');-->
<!--                });-->
<!--            });-->

<!--            $(document).on('click', '.create-interview-link', function() {-->
<!--                const jobTitle = $(this).data('job-title');-->
<!--                $.post(`/create_interview_link/${jobTitle}`, function(data) {-->
<!--                    if (data.interview_url) {-->
<!--                        prompt("Copy this interview link:", data.interview_url);-->
<!--                    } else {-->
<!--                        alert('Error creating interview link');-->
<!--                    }-->
<!--                }).fail(function() {-->
<!--                    alert('Error creating interview link');-->
<!--                });-->
<!--            });-->

<!--            $(document).on('click', '.delete-job', function() {-->
<!--                const jobTitle = $(this).closest('.job-item').data('job-title');-->
<!--                if (confirm(`Are you sure you want to delete the job "${jobTitle}"?`)) {-->
<!--                    $.post(`/delete_job/${jobTitle}`, function(data) {-->
<!--                        if (data.success) {-->
<!--                            $(`div[data-job-title="${jobTitle}"]`).remove();-->
<!--                        } else {-->
<!--                            alert('Error deleting job');-->
<!--                        }-->
<!--                    }).fail(function() {-->
<!--                        alert('Error deleting job');-->
<!--                    });-->
<!--                }-->
<!--            });-->

<!--            $(document).on('click', '.delete-candidate', function() {-->
<!--                const jobTitle = $(this).data('job-title');-->
<!--                const candidateId = $(this).data('candidate-id');-->
<!--                const $candidateItem = $(this).closest('li');-->

<!--                if (confirm(`Are you sure you want to delete this candidate?`)) {-->
<!--                    $.ajax({-->
<!--                        url: `/delete_candidate/${jobTitle}/${candidateId}`,-->
<!--                        type: 'POST',-->
<!--                        success: function(data) {-->
<!--                            if (data.success) {-->
<!--                                $candidateItem.remove();-->
<!--                            } else {-->
<!--                                alert('Error deleting candidate: ' + (data.error || 'Unknown error'));-->
<!--                            }-->
<!--                        },-->
<!--                        error: function(jqXHR, textStatus, errorThrown) {-->
<!--                            alert('Error deleting candidate: ' + (jqXHR.responseJSON?.error || errorThrown));-->
<!--                        }-->
<!--                    });-->
<!--                }-->
<!--            });-->

<!--            // Load existing job descriptions on page load-->
<!--            $.get('/get_all_job_descriptions', function(data) {-->
<!--                data.job_descriptions.forEach(job => {-->
<!--                    addJobDescription(job.title, job.file_name);-->
<!--                });-->
<!--            });-->
<!--        });-->
<!--    </script>-->
<!--</body>-->
<!--</html>-->


<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>HR Management Interface</title>-->
<!--    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">-->
<!--    <style>-->
<!--        body {-->
<!--            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;-->
<!--            background-color: #f8f9fa;-->
<!--        }-->
<!--        .container {-->
<!--            max-width: 1000px;-->
<!--            margin-top: 50px;-->
<!--        }-->
<!--        .card {-->
<!--            margin-bottom: 20px;-->
<!--            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);-->
<!--        }-->
<!--        #job-descriptions-list {-->
<!--            max-height: 500px;-->
<!--            overflow-y: auto;-->
<!--        }-->
<!--        .job-item {-->
<!--            border-bottom: 1px solid #dee2e6;-->
<!--            padding: 15px 0;-->
<!--        }-->
<!--        .job-item:last-child {-->
<!--            border-bottom: none;-->
<!--        }-->
<!--        .btn-group {-->
<!--            margin-top: 10px;-->
<!--        }-->
<!--        .passed {-->
<!--            background-color: #d4edda;-->
<!--        }-->
<!--        .failed {-->
<!--            background-color: #f8d7da;-->
<!--        }-->
<!--        .badge-passed {-->
<!--            background-color: #28a745;-->
<!--            color: white;-->
<!--        }-->
<!--        .badge-failed {-->
<!--            background-color: #dc3545;-->
<!--            color: white;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--    <div class="container">-->
<!--        <h1 class="text-center mb-4">AI HR Management Interface</h1>-->

<!--        <div class="card">-->
<!--            <div class="card-header bg-primary text-white">-->
<!--                Upload New Job Description-->
<!--            </div>-->
<!--            <div class="card-body">-->
<!--                <form id="upload-form">-->
<!--                    <div class="mb-3">-->
<!--                        <label for="job-title" class="form-label">Job Title</label>-->
<!--                        <input type="text" class="form-control" id="job-title" required>-->
<!--                    </div>-->
<!--                    <div class="mb-3">-->
<!--                        <label for="job-description-file" class="form-label">Job Description File</label>-->
<!--                        <input type="file" class="form-control" id="job-description-file" accept=".txt" required>-->
<!--                    </div>-->
<!--                    <button type="submit" class="btn btn-primary">Upload</button>-->
<!--                </form>-->
<!--            </div>-->
<!--        </div>-->

<!--        <div class="card">-->
<!--            <div class="card-header bg-secondary text-white">-->
<!--                Job Descriptions and Candidates-->
<!--            </div>-->
<!--            <div class="card-body">-->
<!--                <div id="job-descriptions-list">-->
<!--                    &lt;!&ndash; Job descriptions and candidates will be dynamically added here &ndash;&gt;-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->

<!--    <script>-->
<!--        $(document).ready(function() {-->
<!--            function addJobDescription(jobTitle, fileName) {-->
<!--                const jobItem = `-->
<!--                    <div class="job-item" data-job-title="${jobTitle}">-->
<!--                        <h4>${jobTitle} <button class="btn btn-sm btn-danger delete-job">X</button></h4>-->
<!--                        <p class="text-muted">File: ${fileName}</p>-->
<!--                        <div class="btn-group" role="group">-->
<!--                            <button class="btn btn-sm btn-outline-primary view-job-description" data-job-title="${jobTitle}">View Job Description</button>-->
<!--                            <button class="btn btn-sm btn-outline-info view-candidates" data-job-title="${jobTitle}">View Candidates</button>-->
<!--                            <button class="btn btn-sm btn-outline-success create-interview-link" data-job-title="${jobTitle}">Create Interview Link</button>-->
<!--                        </div>-->
<!--                        <div class="job-description-content mt-3" style="display: none;"></div>-->
<!--                        <div class="candidates-list mt-3" style="display: none;"></div>-->
<!--                    </div>-->
<!--                `;-->
<!--                $('#job-descriptions-list').prepend(jobItem);-->
<!--            }-->

<!--            $('#upload-form').submit(function(e) {-->
<!--                e.preventDefault();-->
<!--                const jobTitle = $('#job-title').val();-->
<!--                const file = $('#job-description-file')[0].files[0];-->
<!--                if (file) {-->
<!--                    const formData = new FormData();-->
<!--                    formData.append('job_title', jobTitle);-->
<!--                    formData.append('file', file);-->

<!--                    $.ajax({-->
<!--                        url: '/upload_job_description',-->
<!--                        type: 'POST',-->
<!--                        data: formData,-->
<!--                        processData: false,-->
<!--                        contentType: false,-->
<!--                        success: function(data) {-->
<!--                            alert('Job description uploaded successfully');-->
<!--                            addJobDescription(jobTitle, file.name);-->
<!--                            $('#upload-form')[0].reset();-->
<!--                        },-->
<!--                        error: function() {-->
<!--                            alert('Error uploading job description');-->
<!--                        }-->
<!--                    });-->
<!--                }-->
<!--            });-->

<!--            $(document).on('click', '.view-job-description', function() {-->
<!--                const jobTitle = $(this).data('job-title');-->
<!--                const contentElement = $(this).closest('.job-item').find('.job-description-content');-->

<!--                $.get(`/get_job_description/${jobTitle}`, function(data) {-->
<!--                    contentElement.html(`<pre>${data.content}</pre>`).toggle();-->
<!--                }).fail(function() {-->
<!--                    alert('Error fetching job description');-->
<!--                });-->
<!--            });-->

<!--            $(document).on('click', '.view-candidates', function() {-->
<!--                const jobTitle = $(this).data('job-title');-->
<!--                const candidatesListElement = $(this).closest('.job-item').find('.candidates-list');-->

<!--                $.get(`/get_candidates/${jobTitle}`, function(data) {-->
<!--                    if (data.candidates && data.candidates.length > 0) {-->
<!--                        let candidatesHtml = '<h5>Candidates:</h5><ul class="list-group">';-->
<!--                        data.candidates.forEach(candidate => {-->
<!--                            const statusClass = candidate.passed ? 'passed' : 'failed';-->
<!--                            const statusText = candidate.passed ? 'PASSED' : 'FAILED';-->
<!--                            candidatesHtml += `-->
<!--                                <li class="list-group-item d-flex justify-content-between align-items-center ${statusClass}">-->
<!--                                    ${candidate.full_name} (${candidate.candidate_id}) - <span class="badge badge-${statusClass}">${statusText}</span>-->
<!--                                    <div>-->
<!--                                        <a href="/download_cv/${candidate.candidate_id}" class="btn btn-sm btn-outline-primary">View CV</a>-->
<!--                                        <button onclick="viewReport('${jobTitle}', '${candidate.candidate_id}')" class="btn btn-sm btn-outline-info">View Report</button>-->
<!--                                        <button class="btn btn-sm btn-danger delete-candidate" data-job-title="${jobTitle}" data-candidate-id="${candidate.candidate_id}">X</button>-->
<!--                                    </div>-->
<!--                                </li>`;-->
<!--                        });-->
<!--                        candidatesHtml += '</ul>';-->
<!--                        candidatesListElement.html(candidatesHtml).toggle();-->
<!--                    } else {-->
<!--                        candidatesListElement.html('<p class="text-muted">No candidates available yet.</p>').toggle();-->
<!--                    }-->
<!--                }).fail(function() {-->
<!--                    alert('Error fetching candidates');-->
<!--                });-->
<!--            });-->

<!--            $(document).on('click', '.create-interview-link', function() {-->
<!--                const jobTitle = $(this).data('job-title');-->
<!--                $.post(`/create_interview_link/${jobTitle}`, function(data) {-->
<!--                    if (data.interview_url) {-->
<!--                        prompt("Copy this interview link:", data.interview_url);-->
<!--                    } else {-->
<!--                        alert('Error creating interview link');-->
<!--                    }-->
<!--                }).fail(function() {-->
<!--                    alert('Error creating interview link');-->
<!--                });-->
<!--            });-->

<!--            $(document).on('click', '.delete-job', function() {-->
<!--                const jobTitle = $(this).closest('.job-item').data('job-title');-->
<!--                if (confirm(`Are you sure you want to delete the job "${jobTitle}"?`)) {-->
<!--                    $.post(`/delete_job/${jobTitle}`, function(data) {-->
<!--                        if (data.success) {-->
<!--                            $(`div[data-job-title="${jobTitle}"]`).remove();-->
<!--                        } else {-->
<!--                            alert('Error deleting job');-->
<!--                        }-->
<!--                    }).fail(function() {-->
<!--                        alert('Error deleting job');-->
<!--                    });-->
<!--                }-->
<!--            });-->

<!--            $(document).on('click', '.delete-candidate', function() {-->
<!--                const jobTitle = $(this).data('job-title');-->
<!--                const candidateId = $(this).data('candidate-id');-->
<!--                if (confirm(`Are you sure you want to delete this candidate?`)) {-->
<!--                    $.post(`/delete_candidate/${jobTitle}/${candidateId}`, function(data) {-->
<!--                        if (data.success) {-->
<!--                            $(this).closest('li').remove();-->
<!--                        } else {-->
<!--                            alert('Error deleting candidate');-->
<!--                        }-->
<!--                    }).fail(function() {-->
<!--                        alert('Error deleting candidate');-->
<!--                    });-->
<!--                }-->
<!--            });-->

<!--            function viewReport(jobTitle, candidateId) {-->
<!--                $.get(`/view_report/${jobTitle}/${candidateId}`, function(data) {-->
<!--                    if (data.report) {-->
<!--                        let reportHtml = `<pre>${data.report}</pre>`;-->
<!--                        let modalHtml = `-->
<!--                            <div class="modal fade" id="reportModal" tabindex="-1" role="dialog" aria-labelledby="reportModalLabel" aria-hidden="true">-->
<!--                                <div class="modal-dialog modal-lg" role="document">-->
<!--                                    <div class="modal-content">-->
<!--                                        <div class="modal-header">-->
<!--                                            <h5 class="modal-title" id="reportModalLabel">Candidate Report</h5>-->
<!--                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">-->
<!--                                                <span aria-hidden="true">&times;</span>-->
<!--                                            </button>-->
<!--                                        </div>-->
<!--                                        <div class="modal-body">-->
<!--                                            ${reportHtml}-->
<!--                                        </div>-->
<!--                                        <div class="modal-footer">-->
<!--                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>-->
<!--                                            <a href="/download_report/${jobTitle}/${candidateId}" class="btn btn-primary" target="_blank">Download Report</a>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        `;-->
<!--                        $('body').append(modalHtml);-->
<!--                        $('#reportModal').modal('show');-->
<!--                    } else {-->
<!--                        alert('Error fetching report');-->
<!--                    }-->
<!--                }).fail(function() {-->
<!--                    alert('Error fetching report');-->
<!--                });-->
<!--            }-->

<!--            // Load existing job descriptions on page load-->
<!--            $.get('/get_all_job_descriptions', function(data) {-->
<!--                data.job_descriptions.forEach(job => {-->
<!--                    addJobDescription(job.title, job.file_name);-->
<!--                });-->
<!--            });-->
<!--        });-->
<!--    </script>-->
<!--</body>-->
<!--</html>-->